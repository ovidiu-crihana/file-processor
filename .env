APP_ENV=dev
APP_SECRET=
DEFAULT_URI=http://localhost

# Logs & tmp
LOGS_PATH=var\\logs
TEMP_PATH=var\\tmp
LOG_FILE=var\\logs\\file_processor.log
LOG_LEVEL=info
CHECKPOINT_FILE=var\\state\\checkpoint.json

# ImageMagick
IMAGEMAGICK_PATH=C:\\Users\\<USER>\\tools\\ImageMagick\\magick.exe

# Input csv
CSV_PATH=C:\\Users\\<USER>\\ProcessFilesProject\\host\\original.csv
CSV_COL_ID=ID
CSV_COL_FILE=IMMAGINE
CSV_COL_BATCH=BATCH
CSV_COL_NUMERO_RECORD=PROT_PRAT_NUMERO
CSV_COL_DATE=DATA_ORA_ACQ
CSV_COL_STATUS=STATO
CSV_COL_PRACTICE_TYPE=TIPO_PRATICA
CSV_COL_DOCUMENT_TYPE=TIPO_DOCUMENTO
CSV_COL_PROTOCOL_DATE=PROT_PRAT_DATA
CSV_COL_SIGLA=SIGLA_PRATICA

# Rules
CSV_FILTER_COLUMN=STATO
CSV_FILTER_VALUE=CORRETTO
CSV_GROUP_KEYS=BATCH,IDDOCUMENTO
EXCEPTION_TITOLO_AUTORIZZATIVO_REPLACE=SIGLA_PRATICA

### --- CONFIGURAZIONE TAVOLE --------------------------------------------
# Colonna CSV che attiva la ricerca delle tavole (di solito TIPO_DOCUMENTO)
TAVOLE_TRIGGER_COLUMN=TIPO_DOCUMENTO

# Valore o pattern da cercare (case-insensitive):
#  1️⃣ Parola singola → "TAVOLA"
#  2️⃣ Lista parole separate da virgola → "TAVOLA,PIANTA,CARTA"
#  3️⃣ Pattern regex → "/TAVOLA[_\-\s]?\d{0,2}/i"
#
# Esempi validi di match:
#  - "TAVOLA_1"         → ✅ con TAVOLA o pattern regex
#  - "PIANTA_GENERALE"  → ✅ con lista TAVOLA,PIANTA,CARTA
#  - "RELAZIONE"        → ❌ nessuna corrispondenza
#
# NB: le regex devono essere racchiuse tra / e possono includere flag come "i" (ignore case)
TAVOLE_TRIGGER_VALUE=TAVOLA

# PERCORSO DI RICERCA DELLE "TAVOLE
# È usato SOLO quando la condizione definita da TAVOLE_TRIGGER_COLUMN e TAVOLE_TRIGGER_VALUE è soddisfatta.
#
# Può essere:
#
# 1️⃣ Percorso RELATIVO (alla cartella di lavoro del batch)
#     Esempio:
#       TAVOLE_PATH=tavole
#     → cerca in Work\<YYYY>\<MM>\<DD>\<BATCH>\tavole\<file.tif>
#
# 2️⃣ Percorso RELATIVO alla root principale (Work\Tavole)
#     Esempio:
#       TAVOLE_PATH=..\Tavole
#     → cerca in Work\Tavole\<BATCH>\<file.tif>
#
# 3️⃣ Percorso ASSOLUTO locale (Windows)
#     Esempio:
#       TAVOLE_PATH=C:\Archivio\4Service\Applications\Vinci\Work\Tavole
#     → cerca direttamente in quella cartella
#
# 4️⃣ Percorso ASSOLUTO di RETE (UNC)
#     Esempio:
#       TAVOLE_PATH=\\10.10.90.241\Archivio\4Service\Applications\Vinci\Work\Tavole
#     → utile se il progetto gira su macchina differente dal file server
#
# In tutti i casi, il percorso effettivo finale sarà costruito come:
#   <TAVOLE_PATH>\<BATCH>\<NOME_FILE>.tif
#
# Esempi di match reali:
#   - Se il batch è "BAT000586089" e TAVOLE_PATH=tavole →
#       cerca in ...\Work\2025\08\25\BAT000586089\tavole\0001.tif
#   - Se TAVOLE_PATH=\\server\Work\Tavole →
#       cerca in \\server\Work\Tavole\BAT000586089\0001.tif

TAVOLE_PATH=tavole

# Input
SOURCE_BASE_PATH=C:\\Users\\<USER>\\ProcessFilesProject\\remote\\Work

# Output
OUTPUT_BASE_PATH=C:\\Users\\<USER>\\ProcessFilesProject\\remote\\Output
OUTPUT_FILENAME_PATTERN={TIPO_PRATICA}_{PRAT_NUM}_{ANNO}_{TIPO_DOCUMENTO}_{GROUP}.tif

# Pdf
ENABLE_PDF_CONVERSION=true
PDF_TOOL=imagemagick
